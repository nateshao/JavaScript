<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
		function send()
		{
			var xhr=new XMLHttpRequest();
			xhr.onreadystatechange=function()
				{
					// xhr.status==200,请求成功
					// xhr.readyState==4 完成，数据接收完毕
					if (xhr.readyState==4 && xhr.status==200)
				{	
					var dom=document.getElementById("result");// 找到页面中的div
					var txt=xhr.responseText; 
					var creat_p=document.createElement("p"); // 创建 <p> 元素节点
	  				var eme_text=document.createTextNode(txt); // 创建文本节点
	  				creat_p.append(eme_text);//  将文本节点添加到刚创建的新元素p中
	  				dom.append(creat_p); // 将新创建的元素<p>添加到<div>中
					alert("提交成功")
			   }
			 }
			var comments=document.getElementById('comments').value;
			// 建立HTTP请求
			xhr.open("POST","test.php",true);
			// HTTP请求头，指定实体内容的编码格式
			xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
			// 发送请求
			xhr.send("comments="+comments);
		}
</script>
</head>
<body>
	<div id="result"></div>
 	<form id="my" action="" method="post">
  		<p>
  			<textarea name="comment" cols="60" rows="5" id="comments"></textarea>
  		</p>
 	</form>
	<button onclick="send()">发表</button>
</body>
</html>